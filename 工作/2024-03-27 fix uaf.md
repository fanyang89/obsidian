```c++
=================================================================
==599278==ERROR: AddressSanitizer: heap-use-after-free on address 0x603001342d00 at pc 0x55555d2a4fd9 bp 0x7fff40b83a60 sp 0x7fff40b83a50
READ of size 8 at 0x603001342d00 thread T88 (zbs-client-test)
    #0 0x55555d2a4fd8 in void std::__invoke_impl<void, void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*&)(unsigned int), zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*&, unsigned int>(std::__invoke_memfun_deref, void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*&)(unsigned int), zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*&, unsigned int&&) /usr/include/c++/7.3.0/bits/invoke.h:73
    #1 0x55555d2a1dba in std::__invoke_result<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*&)(unsigned int), zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*&, unsigned int>::type std::__invoke<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*&)(unsigned int), zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*&, unsigned int>(void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*&)(unsigned int), zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*&, unsigned int&&) /usr/include/c++/7.3.0/bits/invoke.h:95
    #2 0x55555d29c603 in void std::_Bind<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*(zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*, std::_Placeholder<1>))(unsigned int)>::__call<void, unsigned int&&, 0ul, 1ul>(std::tuple<unsigned int&&>&&, std::_Index_tuple<0ul, 1ul>) /usr/include/c++/7.3.0/functional:467
    #3 0x55555d295004 in void std::_Bind<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*(zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*, std::_Placeholder<1>))(unsigned int)>::operator()<unsigned int, void>(unsigned int&&) /usr/include/c++/7.3.0/functional:551
    #4 0x55555d28d70f in std::_Function_handler<void (unsigned int), std::_Bind<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*(zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*, std::_Placeholder<1>))(unsigned int)> >::_M_invoke(std::_Any_data const&, unsigned int&&) /usr/include/c++/7.3.0/bits/std_function.h:316
    #5 0x55555d200c61 in std::function<void (unsigned int)>::operator()(unsigned int) const /usr/include/c++/7.3.0/bits/std_function.h:706
    #6 0x55555d1fb482 in zbs::EventLoop::ExecEvent(zbs::EventLoop::Event*) ../src/common/event_loop.cc:330
    #7 0x55555d1fb9ab in operator() ../src/common/event_loop.cc:367
    #8 0x55555d206e71 in s_run_and_reset ../src/common/coroutine.h:281
    #9 0x55555d1ca1b6 in zbs::CoFunc::run_and_reset() ../src/common/coroutine.h:317
    #10 0x55555d1d197f in zbs::Coroutine::LoopMain() ../src/common/coroutine.cc:627
    #11 0x55555d1d18fe in zbs::Coroutine::s_co_main(int, int) ../src/common/coroutine.cc:614

0x603001342d00 is located 16 bytes inside of 24-byte region [0x603001342cf0,0x603001342d08)
freed by thread T87 (##test_suite_na) here:
    #0 0x55555b0097d4 in operator delete(void*, unsigned long) (/tmp/tmp.xxHDmlRTZF/cmake-build-debug/src/zbs_test+0x5ab57d4)
    #1 0x55555d295220 in std::_Function_base::_Base_manager<std::_Bind<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*(zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*, std::_Placeholder<1>))(unsigned int)> >::_M_destroy(std::_Any_data&, std::integral_constant<bool, false>) /usr/include/c++/7.3.0/bits/std_function.h:207
    #2 0x55555d28d8a0 in std::_Function_base::_Base_manager<std::_Bind<void (zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::*(zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>*, std::_Placeholder<1>))(unsigned int)> >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) /usr/include/c++/7.3.0/bits/std_function.h:231
    #3 0x55555d200865 in std::function<void (unsigned int)>::operator=(decltype(nullptr)) /usr/include/c++/7.3.0/bits/std_function.h:516
    #4 0x55555d1f8587 in zbs::EventLoop::DelEvent(int, bool) ../src/common/event_loop.cc:215
    #5 0x55555d27f259 in zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::Close() ../src/common/proto_async_client.h:278
    #6 0x55555d27c750 in zbs::ProtoAsyncClient<zbs::RpcHeader, zbs::RpcHeader, zbs::zmem_allocator_t>::~ProtoAsyncClient() ../src/common/proto_async_client.h:79
    #7 0x55555d27a4ac in zbs::CoAsyncRpcClient::~CoAsyncRpcClient() ../src/common/rpc_client.cc:390
    #8 0x55555d27a535 in zbs::CoAsyncRpcClient::~CoAsyncRpcClient() ../src/common/rpc_client.cc:395
    #9 0x55555db3f948 in zbs::meta::MetaService_Stub::~MetaService_Stub() src/proto/meta.pb.cc:127388
    #10 0x55555db3f96f in zbs::meta::MetaService_Stub::~MetaService_Stub() src/proto/meta.pb.cc:127389
    #11 0x55555cebb456 in zbs::libmeta::MetaConnection::ResetConnection() ../src/libmeta/meta_connection.cc:154
    #12 0x55555ceb9cd1 in zbs::libmeta::MetaConnection::Close() ../src/libmeta/meta_connection.cc:41
    #13 0x55555ceb9c6a in zbs::libmeta::MetaConnection::~MetaConnection() ../src/libmeta/meta_connection.cc:37
    #14 0x55555ceb9ca5 in zbs::libmeta::MetaConnection::~MetaConnection() ../src/libmeta/meta_connection.cc:38
    #15 0x55555ce818ae in std::default_delete<zbs::libmeta::MetaConnection>::operator()(zbs::libmeta::MetaConnection*) const /usr/include/c++/7.3.0/bits/unique_ptr.h:78
    #16 0x55555ce77576 in std::unique_ptr<zbs::libmeta::MetaConnection, std::default_delete<zbs::libmeta::MetaConnection> >::reset(zbs::libmeta::MetaConnection*) /usr/include/c++/7.3.0/bits/unique_ptr.h:376
    #17 0x55555cda3596 in zbs::libmeta::Meta::Shutdown() ../src/libmeta/meta.cc:190
    #18 0x55555d02d146 in zbs::libzbs::ZbsClient::Stop() ../src/libzbs/zbs_client.cc:479
    #19 0x55555d02c814 in zbs::libzbs::ZbsClient::~ZbsClient() ../src/libzbs/zbs_client.cc:450
    #20 0x55555d02ce39 in zbs::libzbs::ZbsClient::~ZbsClient() ../src/libzbs/zbs_client.cc:467
    #21 0x55555b46ba32 in std::default_delete<zbs::libzbs::ZbsClient>::operator()(zbs::libzbs::ZbsClient*) const /usr/include/c++/7.3.0/bits/unique_ptr.h:78
    #22 0x55555b465932 in std::unique_ptr<zbs::libzbs::ZbsClient, std::default_delete<zbs::libzbs::ZbsClient> >::~unique_ptr() /usr/include/c++/7.3.0/bits/unique_ptr.h:268
    #23 0x55556242f498 in zbs::test::ZbsClientTest_CloseMetaClientConnection_Test::TestBodyActual() ../src/tests/zbs_client_test.cc:311
    #24 0x55556242cf01 in zbs::test::ZbsClientTest_CloseMetaClientConnection_Test::TestBody()::{lambda()#1}::operator()() const ../src/tests/zbs_client_test.cc:307
    #25 0x5555624371ac in zbs::CoFunc::Impl<zbs::test::ZbsClientTest_CloseMetaClientConnection_Test::TestBody()::{lambda()#1}>::s_run_and_reset(zbs::CoFunc::storage_t&) ../src/common/coroutine.h:281
    #26 0x55555d1ca1b6 in zbs::CoFunc::run_and_reset() ../src/common/coroutine.h:317
    #27 0x55555d1d197f in zbs::Coroutine::LoopMain() ../src/common/coroutine.cc:627
    #28 0x55555d1d18fe in zbs::Coroutine::s_co_main(int, int) ../src/common/coroutine.cc:614
    #29 0x7ffff6dd592f  (/usr/lib64/libc.so.6+0x4d92f)
```
