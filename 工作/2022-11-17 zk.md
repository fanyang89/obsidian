Hi，[@fanyang](https://smartx1.slack.com/team/UEBE4B3U7) 测试过程中出现一次 zk leader 选举耗时超过 20s 的情况，具体如下，麻烦帮忙看下吧：  
1、zk/meta leader 原本均为 `**172.20.131.231**` 节点。  
2、`**14:42:45**` 注入如下故障，使得 231 节点与集群中所有节点均断连

sudo iptables -t mangle -A OUTPUT -d 10.0.131.233 -j DROP
sudo iptables -t mangle -A OUTPUT -d 10.0.131.232 -j DROP

3、`**14:42:46**` ，231 节点不再监听 2888 端口，并置为 `**looking**`

2022-11-17T14:42:46,057 [myid:] - INFO [LearnerCnxAcceptor-/10.0.131.231:2888:Leader$LearnerCnxAcceptor@408] - exception while shutting down acceptor: java.net.SocketException: Socket closed

2022-11-17T14:42:46,097 [myid:] - INFO [QuorumPeer[myid=1](plain=10.0.131.231:2181)(secure=disabled):QuorumPeer@751] - Peer state changed: looking

3、`**14:43:14**`, 选出 zk leader：【232 节点，`**耗时 28s**`】

2022-11-17T14:43:14,243 [myid:] - INFO [QuorumPeer[myid=2](plain=10.0.131.232:2181)(secure=disabled):QuorumPeer@745] - Peer state changed: leading
2022-11-17T14 :43: 14, 243 [myid:] - INFO [QuorumPeer [myid=2](plain=10.0.131.232:2181) (secure=disabled):QuorumPeer@751] - Peer state changed: leading - discovery

```
# node1
│2022-11-17T14:38:43,660 [myid:] - WARN  [QuorumPeer[myid=1](plain=10.0.131.231:2181)(secure=disabled):Follower@100] - Exception when following the leader                       ┤
│java.net.SocketTimeoutException: Read timed out
│2022-11-17T14:38:43,704 [myid:] - INFO  [QuorumPeer[myid=1](plain=10.0.131.231:2181)(secure=disabled):QuorumPeer@751] - Peer state changed: looking                             ┤
│2022-11-17T14:38:43,906 [myid:] - INFO  [QuorumPeer[myid=1](plain=10.0.131.231:2181)(secure=disabled):QuorumPeer@1357] - LEADING                                                ┤

│2022-11-17T14:38:43,660 [myid:] - WARN  [QuorumPeer[myid=1](plain=10.0.131.231:2181)(secure=disabled):Follower@100] - Exception when following the leader                       │java.net.SocketTimeoutException: Read timed out                                                                                                                                 ┤
```

```
# node2
│2022-11-17T14:38:43,905 [myid:] - INFO  [QuorumPeer[myid=2](plain=10.0.131.232:2181)(secure=disabled):QuorumPeer@1345] - FOLLOWING                                              │
│2022-11-17T14:38:43,953 [myid:] - INFO  [QuorumPeer[myid=2](plain=10.0.131.232:2181)(secure=disabled):Learner@552] - Learner received NEWLEADER message                         │
│2022-11-17T14:38:44,001 [myid:] - INFO  [QuorumPeer[myid=2](plain=10.0.131.232:2181)(secure=disabled):QuorumPeer@751] - Peer state changed: following - broadcast               │
```

```
# node3
│2022-11-17T14:38:43,660 [myid:] - ERROR [LearnerHandler-/10.0.131.231:39166:LearnerHandler@629] - Unexpected exception causing shutdown while sock still open                   │
│java.io.EOFException: null                                                                                                                                                      │
│       at java.io.DataInputStream.readInt(DataInputStream.java:392) ~[?:1.8.0_131]                                                                                              │
│       at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:84) ~[zookeeper-3.5.9.jar:3.5.9-3661b1e3c6c87ec14990b65968fe4a3bed5f7235]                          │
│       at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86) ~[zookeeper-3.5.9.jar:3.5.9-3661b1e3c6c87ec14990b65968fe4a3bed5f7235]               │
│       at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:118) ~[zookeeper-3.5.9.jar:3.5.9-3661b1e3c6c87ec14990b65968fe4a3bed5f7235]                      │
│       at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:539) [zookeeper-3.5.9.jar:3.5.9-3661b1e3c6c87ec14990b65968fe4a3bed5f7235]                   │
│2022-11-17T14:38:43,661 [myid:] - WARN  [LearnerHandler-/10.0.131.231:39166:LearnerHandler@644] - ******* GOODBYE /10.0.131.231:39166 ********                                  │
```
