1.  分析发现服务重启的时间段，分两个 ：12：46 左右（仅 57.24 有服务重启） 和 12 点左右（所有节点都有服务重启）

```
node 57.24
E0818 12:46:03.922333 13231 main.cc:82] [ZOO] handle_socket_error_msg:2495 2022-08-18 12:46:03,922:13171(0x7fe9be9e2700):ZOO_ERROR@handle_socket_error_msg@2495: Socket [172.17.57.24:2181] zk retcode=-4, errno=112(Host is down): failed while receiving a server response

2022-08-18T12:45:55,903 [myid:] - WARN [QuorumPeer[myid=3](plain=172.17.57.24:2181)(secure=disabled):Follower@100] - Exception when following the leader
```

```
2022-08-18T12:46:00,955 [myid:] - INFO [QuorumPeer[myid=4](plain=172.17.57.25:2181)(secure=disabled):QuorumPeer@748] - Peer state changed: looking
2022-08-18T12:46:09,990 [myid:] - INFO [QuorumPeer[myid=4](plain=172.17.57.25:2181)(secure=disabled):QuorumPeer@742] - Peer state changed: leading
```

```
57.26
W0818 12:46:00.433372 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.24:10201 ping error times: 1 st:
Traceback:
[EShutDown]:

W0818 12:46:00.433636 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
Traceback:
[EShutDown]:
```

```
$ rg 'data_channel_manager.cc:240' | grep '0818 12:46:' | grep 'times: 1 '
172_17_57_27/192_168_57_27_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184616.8491:W0818 12:46:00.490715  8496 data_channel_manager.cc:240] Fail to ping : 172.17.57.25:10201 ping error times: 1 st:
172_17_57_27/192_168_57_27_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184616.8491:W0818 12:46:18.121991  8496 data_channel_manager.cc:240] Fail to ping : 172.17.57.26:10201 ping error times: 1 st:
172_17_57_27/192_168_57_27_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184616.8491:W0818 12:46:42.621243  8496 data_channel_manager.cc:240] Fail to ping : 172.17.57.25:10201 ping error times: 1 st:
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:W0818 12:46:03.036484 10191 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:W0818 12:46:13.541932 10191 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:W0818 12:46:38.086125 10191 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:W0818 12:46:48.589687 10191 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:W0818 12:46:00.433372 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.24:10201 ping error times: 1 st:
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:W0818 12:46:00.433636 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:W0818 12:46:03.932261 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.25:10201 ping error times: 1 st:
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:W0818 12:46:11.449882 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.25:10201 ping error times: 1 st:
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:W0818 12:46:11.487835 24086 data_channel_manager.cc:240] Fail to ping : 172.17.57.27:10201 ping error times: 1 st:
```

```
$ rg 'datachannel back to normal' | grep '0818 12:47:'
172_17_57_24/192_168_57_24_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-182951.18620:I0818 12:47:09.651540 18625 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.25 port 10201
172_17_57_24/192_168_57_24_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-182951.18620:I0818 12:47:55.117482 18625 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.27 port 10201
172_17_57_24/192_168_57_24_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-182951.18620:I0818 12:47:55.117671 18625 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.25 port 10201
172_17_57_24/192_168_57_24_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-182951.18620:I0818 12:47:55.118693 18625 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.26 port 10201
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:I0818 12:47:55.590549 10191 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.26 port 10201
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:I0818 12:47:55.590577 10191 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.27 port 10201
172_17_57_25/192_168_57_25_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-183640.10186:I0818 12:47:55.590867 10191 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.24 port 10201
172_17_57_27/192_168_57_27_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184616.8491:I0818 12:47:54.140734  8496 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.24 port 10201
172_17_57_27/192_168_57_27_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184616.8491:I0818 12:47:54.140890  8496 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.25 port 10201
172_17_57_27/192_168_57_27_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184616.8491:I0818 12:47:54.141216  8496 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.26 port 10201
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:I0818 12:47:54.002331 24086 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.27 port 10201
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:I0818 12:47:54.002382 24086 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.24 port 10201
172_17_57_26/192_168_57_26_1dacc7b3-11ec-4afd-93c0-062544dc4e10/zbs_logs/zbs-chunkd/zbs-chunkd.log.20220815-184059.24081:I0818 12:47:54.002486 24086 data_channel_manager.cc:252] datachannel back to normal : ip : 172.17.57.25 port 10201
```
