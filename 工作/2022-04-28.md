1. 3 节点集群，其中 1 个主机断开存储网络，nfs 文件上传为什么会发送 Unknow error？
2. 3 节点集群，其中 1 个主机断开存储网络，license 请求为什么会发送 Connection Timeout？

![[工作/2022-04-28 zbs-rest log 1]]

Rest 错误时间段：27/Apr/2022 16:21:06 ~ 27/Apr/2022 16:34:59

```bash
# 存储网络断开开始
W0427 15:35:52.429366 90415 data_channel_manager.cc:240] Fail to ping : 10.74.68.88:10201 ping error times: 1 st:

# 断开结束
I0427 16:05:27.974382 90415 data_channel_server_v3.cc:307] NTCPTransport(0x55b3fc1d9600) on (TCP Socket (10.74.68.88:10201) -> TCP Socket (10.74.68.88:36078)) is started

E0427 16:05:28.534147 15143 main.cc:82] [ZOO] handle_socket_error_msg:2495 2022-04-27 16:05:28,534:90410(0x7f5b19b52700):ZOO_ERROR@handle_socket_error_msg@2495: Socket [10.74.68.88:2181] zk retcode=-4, errno=112(Host is down): failed while receiving a server response

# session expired
W0427 16:05:48.320839 90421 session_follower.cc:272] [SESSION EXPIRED]:  response: , st:
```

```
2022-04-27T15:35:47,976 [myid:] - ERROR [LearnerHandler-/10.74.68.86:39414:LearnerHandler@629] - Unexpected exception causing shutdown while sock still open
java.net.SocketTimeoutException: Read timed out

~ 持续至

2022-04-27T16:48:03,635 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-29:QuorumCnxManager@381] - Cannot open channel to 1 at election address /10.74.68.84:3888
java.net.SocketTimeoutException: connect timed out
```

```
2022-04-27T11:16:41,493 [myid:] - WARN  [QuorumPeer[myid=2](plain=10.74.68.86:2181)(secure=disabled):Follower@100] - Exception when following the leader
java.net.SocketTimeoutException: Read timed out

2022-04-27T16:17:19,370 [myid:] - WARN  [QuorumPeer[myid=2](plain=10.74.68.86:2181)(secure=disabled):Follower@100] - Exception when following the leader
java.net.SocketTimeoutException: Read timed out
```
